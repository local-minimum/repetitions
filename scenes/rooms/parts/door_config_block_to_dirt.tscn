[gd_scene format=3 uid="uid://byswj0ob7y5no"]

[ext_resource type="Script" uid="uid://cxnqlqwyj3fbf" path="res://scripts/reps/door_configuration_options.gd" id="1_u5bdl"]
[ext_resource type="PackedScene" uid="uid://y1ffxoreajkp" path="res://scenes/rooms/meshes/roomwall_door_with_door.tscn" id="2_i0bdy"]
[ext_resource type="PackedScene" uid="uid://m55oio5nm4ps" path="res://scenes/rooms/meshes/props/plank2.blend" id="3_e8rg8"]
[ext_resource type="PackedScene" uid="uid://b7lslbxgj6psm" path="res://scenes/rooms/meshes/roomwall_door.blend" id="3_i0bdy"]
[ext_resource type="PackedScene" uid="uid://ck5ureajxc1ch" path="res://scenes/rooms/meshes/props/plank.blend" id="4_iweq6"]
[ext_resource type="Script" uid="uid://csoftdhs2k5f8" path="res://scripts/reps/blocked_door_interaction.gd" id="6_e8rg8"]

[sub_resource type="BoxShape3D" id="BoxShape3D_iweq6"]
size = Vector3(1.2468872, 1.4348145, 0.094177246)

[sub_resource type="BoxShape3D" id="BoxShape3D_i0bdy"]
size = Vector3(2.0012207, 2.7120361, 1)

[node name="Door Config Options" type="Node3D" unique_id=878120613 node_paths=PackedStringArray("_door_open_root", "_door_no_door_root", "_special_one", "_inside_area", "_outside_area")]
script = ExtResource("1_u5bdl")
_door_open_root = NodePath("Door")
_door_no_door_root = NodePath("No Door")
_special_one = NodePath("Special One - Blocked")
_inside_area = NodePath("Inside Area3D")
_outside_area = NodePath("Outside Area3D")
_to_nothing_door = 2
_to_nothing_special = 1
_to_door_if_other_open_door = 3
_to_door_if_other_no_door = 2
metadata/_custom_type_script = "uid://cxnqlqwyj3fbf"

[node name="Door" parent="." unique_id=1488851554 instance=ExtResource("2_i0bdy")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 1, -1, 0)

[node name="No Door" parent="." unique_id=1234972040 instance=ExtResource("3_i0bdy")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 1, -1, 0)

[node name="Special One - Blocked" type="Node3D" parent="." unique_id=1001323546]

[node name="plank2" parent="Special One - Blocked" unique_id=51399404 instance=ExtResource("3_e8rg8")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, -0.6, -0.16519213)

[node name="plank3" parent="Special One - Blocked" unique_id=1177837573 instance=ExtResource("3_e8rg8")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, 0.6, -0.16519213)

[node name="plank" parent="Special One - Blocked" unique_id=667257584 instance=ExtResource("4_iweq6")]
transform = Transform3D(-3.9909033e-08, -0.4079321, -0.91301227, -1.7831278e-08, 0.91301227, -0.4079321, 1, 0, -4.371139e-08, 0, 0, -0.21668911)

[node name="InteractionBody3D" type="StaticBody3D" parent="Special One - Blocked" unique_id=435255240]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.20654678)
script = ExtResource("6_e8rg8")
metadata/_custom_type_script = "uid://dpwsunra0mkvn"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Special One - Blocked/InteractionBody3D" unique_id=1981069196]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.011138916, -0.006713867, 0.01260376)
shape = SubResource("BoxShape3D_iweq6")

[node name="Inside Area3D" type="Area3D" parent="." unique_id=555970785]
collision_mask = 3
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Inside Area3D" unique_id=1203693588]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0030517578, 0.37750244, -0.72627634)
shape = SubResource("BoxShape3D_i0bdy")

[node name="Outside Area3D" type="Area3D" parent="." unique_id=1339202458]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.2302227)
collision_mask = 3
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Outside Area3D" unique_id=493588326]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0030517578, 0.37750244, -0.72627634)
shape = SubResource("BoxShape3D_i0bdy")
